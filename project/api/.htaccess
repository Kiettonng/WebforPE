# Prevent direct access to .env files
<Files .env>
    Order allow,deny
    Deny from all
</Files>

# Set default content type to application/json for API responses
AddDefaultCharset UTF-8
DefaultType application/json

# Enable Rewrite Engine
RewriteEngine On

# Optionally, you might want to redirect all requests to a front controller (e.g., index.php)
# if you build a more complex routing system. For now, we'll access scripts directly.
# Example for a front controller (uncomment and adapt if needed):
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^ index.php [QSA,L]

# Set up CORS headers if your frontend and backend are on different origins during development or production
Header set Access-Control-Allow-Origin "*"
Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With"
Header set Access-Control-Allow-Credentials "true"

# Handle OPTIONS requests for CORS preflight
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ $1 [R=204,L]